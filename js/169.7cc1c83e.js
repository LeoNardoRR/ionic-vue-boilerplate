"use strict";(self["webpackChunkapp_boilerplate"]=self["webpackChunkapp_boilerplate"]||[]).push([[169],{3637:function(e,a,t){t.d(a,{Z:function(){return n}});var l=t(2442);function n(){async function e(e,a,t="top",n=3e3){const o=await l.Mn.create({message:e,position:t,color:a,duration:n});return o.present()}return{openToast:e}}},34:function(e,a,t){t.d(a,{F:function(){return n}});var l=t(9876);const n=(0,l.Q_)("general",{getters:{getImagesAddress(){return"https://pferreirafabricio.github.io/ionic-vue-boilerplate"},getApiUrl(){return"https://pferreirafabricio.github.io/ionic-vue-boilerplate"},getWhatsappTelephone(){return"+559999999999"},getContactEmail(){return"pferreirafabricio@gmail.com"}}})},2345:function(e,a,t){t.d(a,{Z:function(){return c}});t(7658);var l=t(6252),n=t(2262),o=t(3577),r=t(2442),i=t(2201),s={__name:"Button",props:{color:{type:String,default:"primary"},text:{type:String,required:!1},expand:{type:String,default:"block"},size:{type:String,default:"medium"},icon:{default:null,required:!1},iosIcon:{default:null,required:!1},mdIcon:{default:null,required:!1},isLoading:{type:Boolean,default:!1},spinnerName:{type:String,default:"crescent"},iconOnly:{type:Boolean,default:!1},fill:{type:String,default:"solid"},to:{type:[String,Object],required:!1},download:{type:Boolean,default:!1},href:{type:String,required:!1}},setup(e){const a=e,{icon:t,iosIcon:s,mdIcon:u,to:d}=(0,n.BK)(a),c=(0,l.Fl)((()=>t.value||s.value||u.value)),p=(0,i.tv)();function m(){d.value&&p.push(d.value)}return(a,i)=>((0,l.wg)(),(0,l.j4)((0,n.SU)(r.YG),{class:"btn ion-activatable ripple-parent",color:e.color,expand:e.expand,size:e.size,disabled:e.isLoading,fill:e.fill,download:e.download,href:e.href,onClick:i[0]||(i[0]=e=>!!(0,n.SU)(d)&&m())},{default:(0,l.w5)((()=>[e.text&&!e.iconOnly?((0,l.wg)(),(0,l.j4)((0,n.SU)(r.Q$),{key:0,class:(0,o.C_)([c.value?"ml-2":""])},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.text),1)])),_:1},8,["class"])):(0,l.kq)("",!0),c.value?((0,l.wg)(),(0,l.j4)((0,n.SU)(r.gu),{key:1,slot:e.iconOnly?"icon-only":"start",ios:(0,n.SU)(s)||(0,n.SU)(t),md:(0,n.SU)(u)||(0,n.SU)(t)},null,8,["slot","ios","md"])):(0,l.kq)("",!0),e.isLoading?((0,l.wg)(),(0,l.j4)((0,n.SU)(r.PQ),{key:2,slot:"end",class:(0,o.C_)(e.iconOnly?"":"ion-margin-start"),name:e.spinnerName},null,8,["class","name"])):(0,l.kq)("",!0),(0,l.Wm)((0,n.SU)(r.H$),{type:"unbounded"})])),_:1},8,["color","expand","size","disabled","fill","download","href"]))}},u=t(3744);const d=(0,u.Z)(s,[["__scopeId","data-v-91873b5e"]]);var c=d},6110:function(e,a,t){t.d(a,{Z:function(){return d}});var l=t(6252),n=t(2262),o=t(2442),r=t(34);const i="assets/vectors/blank.svg";var s={__name:"Image",props:{src:{type:String,required:!1}},setup(e){const a=(0,r.F)(),t=(0,l.Fl)((()=>a.getImagesAddress)),s=(0,n.iH)(!1);return(a,r)=>((0,l.wg)(),(0,l.j4)((0,n.SU)(o.Xz),(0,l.dG)((0,l.l1)(),{src:!s.value&&e.src?`${t.value}/${e.src}`:i,onIonError:r[0]||(r[0]=e=>s.value=!0)}),null,16,["src"]))}};const u=s;var d=u},7169:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});t(7658);var l=t(6252),n=t(2262),o=t(8903),r=t(2442),i=t(2201),s=t(2345),u=t(6110),d=t(9876),c=t(7877);const p=(0,d.Q_)("login",{actions:{async setToken(e){await Storage.set({key:"token",value:e})},async setUserData(e){await Storage.set({key:"user",value:JSON.stringify({userId:e.id,userType:e.typeUser,userName:e.userName})})},login({},e){return c.Z.post("/login",e).then((async e=>(await this.setToken(e.token),await this.setUserData(e.data),e.data))).catch((e=>e.response))}}});var m=t(2281),f=t(3637);function g(){const{openToast:e}=(0,f.Z)(),{redirectTo:a}=(0,m.Z)(),t=p();async function l(l){const n={email:l.email,password:l.password};t.login(n).then((t=>(e("Logged with sucess","success","top"),a(t.data.userType,{anyCustomParams:t.customParams},!0),Promise.resolve()))).catch((()=>{e("Something was wrong on login","danger","top"),Promise.reject()}))}return{userLogin:l,openToast:e,redirectTo:a}}var v=t(1583),w={__name:"Login",setup(e){const{emitter:a}=(0,v.Z)(),{userLogin:t}=g(),d=(0,i.tv)(),c=(0,n.iH)(!1),p=(0,n.iH)({mail:o.X5o,key:o.Jy5,eye:o.iyy,eyeOff:o.YaL,logIn:o.Ib8,enterOutline:o.KFQ}),m=(0,n.iH)({email:"",password:""}),f=(0,n.iH)({email:"",password:""}),w=(0,n.iH)(!1);function y(){S()&&(w.value=!0,t(m).then((()=>{a.emit("logged")})).finally((()=>{w.value=!1})))}function S(){let e=!0;return m.value.email||(f.value.email="Email invalid",e=!1),m.value.password||(f.value.password="Password invalid",e=!1),e}function U(){d.push({name:"recovery-password"})}return(e,a)=>{const t=(0,l.up)("error-message"),o=(0,l.up)("base-layout");return(0,l.wg)(),(0,l.j4)(o,{"page-default-back-link":"/home","show-menu-button":!1,"ignore-history":!0},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.Nd),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.wI),{size:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(u.Z,{class:"mb-4",style:{height:"200px"},src:"assets/icon/logo.png"})])),_:1})])),_:1}),(0,l.Wm)((0,n.SU)(r.Nd),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.wI),{size:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.Ie),{class:"form-field"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.gu),{slot:"start",icon:p.value.mail},null,8,["icon"]),(0,l.Wm)((0,n.SU)(r.pK),{modelValue:m.value.email,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value.email=e),"clear-input":"",required:"",label:"E-mail",type:"email","label-placement":"floating",inputmode:"email",onInput:a[1]||(a[1]=e=>f.value.email="")},null,8,["modelValue"])])),_:1}),(0,l.Wm)(t,{text:f.value.email},null,8,["text"])])),_:1}),(0,l.Wm)((0,n.SU)(r.wI),{size:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.Ie),{class:"form-field"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.gu),{slot:"start",icon:p.value.key},null,8,["icon"]),(0,l.Wm)((0,n.SU)(r.pK),{modelValue:m.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>m.value.password=e),required:"",name:"password",label:"Password","label-placement":"floating","clear-input":"",type:c.value?"text":"password",onInput:a[3]||(a[3]=e=>f.value.password="")},null,8,["modelValue","type"]),(0,l.Wm)((0,n.SU)(r.gu),{slot:"end",icon:c.value?p.value.eyeOff:p.value.eye,class:"pointer",onClick:a[4]||(a[4]=e=>c.value=!c.value)},null,8,["icon"])])),_:1}),(0,l.Wm)(t,{text:f.value.password},null,8,["text"])])),_:1})])),_:1}),(0,l.Wm)((0,n.SU)(r.Nd),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.wI),{size:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(s.Z,{color:"primary",text:"Login",icon:p.value.enterOutline,"is-loading":w.value,onClick:a[5]||(a[5]=e=>y())},null,8,["icon","is-loading"])])),_:1})])),_:1}),(0,l.Wm)((0,n.SU)(r.Nd),{class:"ion-text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.wI),{size:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(r.yW),{color:"tertiary",class:"pointer",onClick:a[6]||(a[6]=e=>U())},{default:(0,l.w5)((()=>[(0,l.Uk)(" Forgot password? ")])),_:1})])),_:1})])),_:1})])),_:1})}}},y=t(3744);const S=(0,y.Z)(w,[["__scopeId","data-v-dcb26b44"]]);var U=S}}]);
//# sourceMappingURL=169.7cc1c83e.js.map